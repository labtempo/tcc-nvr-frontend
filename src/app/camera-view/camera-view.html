<div class="view-wrapper">
  <div class="glass-panel camera-card">

    <!-- Header -->
    <div class="card-header">
      <div class="header-content">
        <h2 *ngIf="camera">{{ camera.name }}</h2>
        <h2 *ngIf="!camera" class="text-muted">Carregando...</h2>
      </div>

      <button class="btn btn-icon" (click)="goBack()" title="Voltar">
        <i class="bi bi-x-lg"></i>
      </button>
    </div>

    <!-- Main Video Area -->
    <div class="video-section">

      <!-- Loading Initial -->
      <div *ngIf="isLoading && !hasError && !videoUrl" class="loading-state">
        <div class="spinner-border text-primary" role="status"></div>
        <p class="text-muted mt-2">Conectando à câmera...</p>
      </div>

      <!-- Video Container (Visible if No Error) -->
      <div class="video-container" *ngIf="!hasError">
        <iframe *ngIf="videoUrl" [src]="videoUrl" frameborder="0" allowfullscreen (load)="onIframeLoad()">
        </iframe>
      </div>

      <!-- Offline/Error Placeholder (Cyberpunk Style) -->
      <div *ngIf="hasError" class="offline-placeholder">
        <div class="scan-line"></div>
        <div class="icon-wrapper">
          <i class="bi bi-wifi-off"></i>
        </div>
        <span class="offline-text">SINAL PERDIDO</span>
        <span class="offline-subtext">VERIFIQUE A CONEXÃO</span>

        <button class="btn btn-primary mt-4" (click)="goBack()">Voltar</button>
      </div>

    </div>

  </div>
</div>